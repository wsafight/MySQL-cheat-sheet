# 建表规范

## 强制规定

- 表达是与否的概念的字段，必须使用is_xxxx 的方式命名
- 禁用保留字，如：desc 、status、type、range、match 等 [官方保留字](https://dev.mysql.com/doc/refman/en/keywords.html)
- 字段命名必须使用下划线，长度建议不要超过5个下划线
- 主键索引名为PK_字段名；唯一索引名为 UK_字段名；普通索引名为 IDX_字段名
- 小数类型为decimal，禁止使用 float 和 double
- 表达金额时请使用整数，用分来表示，金额字段使用 fee 结尾，即 discount_fee
- varchar 是可变长字符串，不预先分配存储空间，长度不要超过5000，如果存储长度大于此值，定义字段类型为text，独立出来一张表，用主键来对应，避免影响其他字段索引效率
- 时间类型字段强制使用 datetime
- 表字段必须要有注释；如果修改字段含义或对字段表示的状态追加时，需要更新字段注释

## 推荐

- 字段允许适当冗余，以提高查询性能，但必须考虑’数据一致’冗余字段应遵循
- 合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度
- 单表行数超过 500 万行或者单表容量超过 2 GB，才推荐分库分表